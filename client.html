<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather FOrecast</title>
</head>
<style>
    body{
        margin: 10px;
        padding: 0;
        box-sizing:border-box;
        /* background-color: yellow; */
        background-image: url(image.jpg);
        background-size: cover;
        
    }
    #app
    {
        background-color: gray; 
    
    }
    .search{
        display:inline-block;
        width:100%;
        margin-bottom: 30px;
        text-align: center;
    }
    .bar{
        display: block;
        margin-left: auto;
        margin-right: auto;
        min-height: 25px;
    }
    table,th,td{
        width:80%;
        margin:auto;
        border:1px solid white;
        border-collapse:collapse;
        text-align:center;
        font-size:30px;
        background:blue;
        opacity: 1;

    }
    .data{
        border: 15px solid red;
       padding: 50px;
       margin: 50px;
       margin-left:auto ;
       margin-right: auto;
       font-size: 30px;
       width:320px;
       height:20px;
       padding:auto;
    }
   
</style>
<body>
    <div id="app">
        <h1 style="text-align:center;">ABHINAV GUPTA WEATHER APP</h1>
        <br>
        <h2 style="text-align: center;">Please Enter city Name </h2>

        <input v-model="city" class="bar"><br>
       <div class="search"> <button v-on:click="cw">   Click Here</button></div>

        <br>
        <div v-if="temp==''">We cant show Data because either the city doesnt exist or you havent entered anything</div>
<!-- pack for umbrella -->
        <!-- <div v-if="rain!=null">{{rain}}</div> -->
     <div class="data" style="text-align: center;"> {{rain}}</div>
     <div class="data" style="text-align: center;"> {{pol}}</div>

     <br>
<!-- pack for hot or cold -->
        <!-- <div v-if="temp!=null">It will be {{temp}} so pack accordingly</div> -->
        <div style="text-align:center;" class="data">{{temp}}</div>
        <br><br>
        <!-- <img src="image.JPG" alt=”an artist's rendition of a black hole in space”> -->
        <table v-if>
            <tr>
                <th>Date</th>
                <th>Temperature</th>
                <th>Windspeed</th>
                
            </tr>
            <tr v-for="r in list">
                <td>{{r.Date}}</td>
                <td>{{r.temp}}</td>
                <td>{{r.wind}}</td>
            </tr>
        </table> 
    </div>


 
    <script>
        Vue.config.productionTip = false;
        var app=new Vue({
            el:'#app',//it is used to enter  element id we are using
            data: {
                
                temp:'',

                rain:'',
                pol:'',
                list:[]
            }, //we will get our data here ,it is basically reactive part
        
        methods:{
            cw:information
        }
    })
        //
        function information()
        {
            let prom=fetch("/weather/"+this.city);
            prom.then(data=>data.json())
                .then(data=>{
                 
                    this.temp=data.temp;
                    this.rain=data.rain;
                    this.list=data.list;
                    this.pol=data.pol;
                    console.log(data.list);
                    
                })
        }
    </script>
</body>
</html>
